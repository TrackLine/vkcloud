# VK Cloud Floating IP Finder

–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –ø—Ä–∏–≤—è–∑–∫–∏ Floating IP –∏–∑ –∑–∞–¥–∞–Ω–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏ –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –≤ VK Cloud (OpenStack).

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ Floating IP –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏
- üöÄ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞
- üóëÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏—Ö IP-–∞–¥—Ä–µ—Å–æ–≤
- üì¢ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Apprise (Telegram, Discord, Email –∏ –¥—Ä.)
- ‚öôÔ∏è –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:
  - `openstacksdk` - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å OpenStack API
  - `python-dotenv` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ .env —Ñ–∞–π–ª–∞
  - `apprise` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
git clone <repository_url>
cd vkcloud
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install openstacksdk python-dotenv apprise
```

–ò–ª–∏ —Ç–æ–ª—å–∫–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π):
```bash
pip install openstacksdk python-dotenv
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ `python-dotenv` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —Å–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –≤–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤—Ä—É—á–Ω—É—é —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º.

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
cp env.example .env
```

4. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```bash
nano .env
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

- `VKCLOUD_USERNAME` - –≤–∞—à –ª–æ–≥–∏–Ω –≤ VK Cloud
- `VKCLOUD_PASSWORD` - –≤–∞—à –ø–∞—Ä–æ–ª—å
- `VKCLOUD_PROJECT_ID` - ID –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ –ø–∞–Ω–µ–ª–∏ VK Cloud
- `VKCLOUD_SERVER_ID_OR_NAME` - ID –∏–ª–∏ –∏–º—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

- `VKCLOUD_AUTH_URL` - URL –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `https://infra.mail.ru:35357/v3/`)
- `VKCLOUD_EXT_NET_NAME` - –∏–º—è –≤–Ω–µ—à–Ω–µ–π —Å–µ—Ç–∏ (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –∞–≤—Ç–æ-–ø–æ–∏—Å–∫)
- `VKCLOUD_PORT_ID` - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ—Ä—Ç –í–ú (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω –ø–µ—Ä–≤—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ—Ä—Ç)
- `VKCLOUD_TARGET_NET` - —Ü–µ–ª–µ–≤–∞—è –ø–æ–¥—Å–µ—Ç—å –¥–ª—è –ø–æ–∏—Å–∫–∞ IP (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `95.163.248.0/22`)
- `VKCLOUD_WORKERS_COUNT` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `1`)
- `VKCLOUD_SLEEP_BETWEEN_ATTEMPTS` - –ø–∞—É–∑–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `0.6`)
- `VKCLOUD_ASSOC_WAIT` - –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∏–≤—è–∑–∫–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `8.0`)
- `VKCLOUD_APPRISE_URL` - URL –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Apprise (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–º. –≤ —Ñ–∞–π–ª–µ `env.example`.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ `.env` (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `python-dotenv`):

```bash
python3 script.py
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã:**

–ï—Å–ª–∏ `python-dotenv` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤:

```bash
# –°–ø–æ—Å–æ–± 1: –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ source
source .env
python3 script.py

# –°–ø–æ—Å–æ–± 2: –≠–∫—Å–ø–æ—Ä—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ
export $(cat .env | xargs) && python3 script.py

# –°–ø–æ—Å–æ–± 3: –£–∫–∞–∑–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é
VKCLOUD_USERNAME=user VKCLOUD_PASSWORD=pass python3 script.py
```

### –ó–∞–ø—É—Å–∫ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤–æ—Ä–∫–µ—Ä–∞–º–∏

–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤:

```bash
export VKCLOUD_WORKERS_COUNT=5
export $(cat .env | xargs) && python3 script.py
```

## –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ –Ω–∞ Ubuntu Server

### –°–ø–æ—Å–æ–± 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ nohup

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ —Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤—ã–≤–æ–¥–∞ –≤ —Ñ–∞–π–ª
# –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω python-dotenv, –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ:
nohup python3 script.py > vkcloud.log 2>&1 &

# –ò–ª–∏ –±–µ–∑ python-dotenv:
nohup bash -c 'export $(cat .env | xargs) && python3 script.py' > vkcloud.log 2>&1 &

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ PID –ø—Ä–æ—Ü–µ—Å—Å–∞
echo $! > vkcloud.pid
```

–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏:
```bash
kill $(cat vkcloud.pid)
```

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤:
```bash
tail -f vkcloud.log
```

### –°–ø–æ—Å–æ–± 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ screen

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ screen (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
sudo apt-get install screen

# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é screen
screen -S vkcloud

# –í —Å–µ—Å—Å–∏–∏ screen –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
# –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω python-dotenv:
python3 script.py

# –ò–ª–∏ –±–µ–∑ python-dotenv:
export $(cat .env | xargs) && python3 script.py

# –û—Ç–∫–ª—é—á–∏—Ç–µ—Å—å –æ—Ç —Å–µ—Å—Å–∏–∏ (–Ω–µ –∑–∞–∫—Ä—ã–≤–∞—è –µ—ë): –Ω–∞–∂–º–∏—Ç–µ Ctrl+A, –∑–∞—Ç–µ–º D
```

–î–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```bash
screen -r vkcloud
```

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ø–∏—Å–∫–∞ —Å–µ—Å—Å–∏–π:
```bash
screen -ls
```

### –°–ø–æ—Å–æ–± 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ tmux

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ tmux (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
sudo apt-get install tmux

# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é tmux
tmux new -s vkcloud

# –í —Å–µ—Å—Å–∏–∏ tmux –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
# –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω python-dotenv:
python3 script.py

# –ò–ª–∏ –±–µ–∑ python-dotenv:
export $(cat .env | xargs) && python3 script.py

# –û—Ç–∫–ª—é—á–∏—Ç–µ—Å—å –æ—Ç —Å–µ—Å—Å–∏–∏ (–Ω–µ –∑–∞–∫—Ä—ã–≤–∞—è –µ—ë): –Ω–∞–∂–º–∏—Ç–µ Ctrl+B, –∑–∞—Ç–µ–º D
```

–î–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```bash
tmux attach -t vkcloud
```

### –°–ø–æ—Å–æ–± 4: –°–æ–∑–¥–∞–Ω–∏–µ systemd service (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞:
```bash
sudo nano /etc/systemd/system/vkcloud-fip.service
```

2. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–∑–∞–º–µ–Ω–∏—Ç–µ –ø—É—Ç–∏ –Ω–∞ –≤–∞—à–∏):
```ini
[Unit]
Description=VK Cloud Floating IP Finder
After=network.target

[Service]
Type=simple
User=your_username
WorkingDirectory=/path/to/vkcloud
# –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω python-dotenv, EnvironmentFile –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
# EnvironmentFile=/path/to/vkcloud/.env
ExecStart=/usr/bin/python3 /path/to/vkcloud/script.py
Restart=on-failure
RestartSec=10
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
```

3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ systemd –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
```bash
sudo systemctl daemon-reload
sudo systemctl enable vkcloud-fip.service
sudo systemctl start vkcloud-fip.service
```

4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status vkcloud-fip.service

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
sudo journalctl -u vkcloud-fip.service -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo systemctl stop vkcloud-fip.service

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl restart vkcloud-fip.service
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Apprise

–°–∫—Ä–∏–ø—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ [Apprise](https://github.com/caronc/apprise), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–∏—Å–æ–≤: Telegram, Discord, Email, Slack, Pushover –∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ.

### –ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### Telegram

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/botfather)
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
3. –£–∑–Ω–∞–π—Ç–µ –≤–∞—à Chat ID (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ [@userinfobot](https://t.me/userinfobot))
4. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```bash
VKCLOUD_APPRISE_URL=telegram://<bot_token>@telegram/?chat=<chat_id>
```

#### Discord

1. –°–æ–∑–¥–∞–π—Ç–µ Webhook –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–∞–Ω–∞–ª–∞ Discord
2. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```bash
VKCLOUD_APPRISE_URL=discord://<webhook_id>/<webhook_token>
```

#### Email

```bash
VKCLOUD_APPRISE_URL=mailto://user:password@gmail.com
```

#### –ù–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

–ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ URL —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é:
```bash
VKCLOUD_APPRISE_URL=telegram://...@telegram/?chat=...,discord://.../...
```

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤ URL: https://github.com/caronc/apprise

## –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–°–∫—Ä–∏–ø—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:

1. **–°—Ç–∞—Ä—Ç –ø–æ–∏—Å–∫–∞** - –∫–æ–≥–¥–∞ —Å–∫—Ä–∏–ø—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç—É
2. **–£—Å–ø–µ—à–Ω–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ IP** - –∫–æ–≥–¥–∞ –Ω–∞–π–¥–µ–Ω –∏ –ø—Ä–∏–≤—è–∑–∞–Ω –ø–æ–¥—Ö–æ–¥—è—â–∏–π IP
3. **–û—à–∏–±–∫–∞** - –∫–æ–≥–¥–∞ –≤—Å–µ –≤–æ—Ä–∫–µ—Ä—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å –±–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
4. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞** - –∫–æ–≥–¥–∞ —Å–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

## –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞

```
üîó –ü–æ–¥–∫–ª—é—á–∞—é—Å—å –∫ VK Cloud (password auth)‚Ä¶
üñ•Ô∏è  –í–ú: ubuntu_STD2-1-1_10GB (abc123...)
üîå –ü–æ—Ä—Ç: def456...
üåê –í–Ω–µ—à–Ω—è—è —Å–µ—Ç—å: internet (ghi789...)
üéØ –¶–µ–ª–µ–≤–∞—è –ø–æ–¥—Å–µ—Ç—å: 95.163.248.0/22
üë∑ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤: 3
üöÄ –ó–∞–ø—É—Å–∫–∞—é –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ floating IP‚Ä¶
[–í–æ—Ä–∫–µ—Ä 1] üîó –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ VK Cloud
[–í–æ—Ä–∫–µ—Ä 2] üîó –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ VK Cloud
[–í–æ—Ä–∫–µ—Ä 3] üîó –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ VK Cloud
[–í–æ—Ä–∫–µ—Ä 1] üîπ –í—ã–¥–µ–ª–µ–Ω IP: 95.163.248.10
[–í–æ—Ä–∫–µ—Ä 1] ‚úÖ IP 95.163.248.10 –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç 95.163.248.0/22. –ü—Ä–∏–≤—è–∑—ã–≤–∞—é –∫ –ø–æ—Ä—Ç—É def456...
[–í–æ—Ä–∫–µ—Ä 1] üéâ –ü—Ä–∏–≤—è–∑–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞. –ì–æ—Ç–æ–≤–æ!
[–í–æ—Ä–∫–µ—Ä 1] üìå –ò—Ç–æ–≥–æ–≤—ã–π IP: 95.163.248.10
[–í–æ—Ä–∫–µ—Ä 2] üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞: —É—Å–ø–µ—Ö –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –¥—Ä—É–≥–∏–º –≤–æ—Ä–∫–µ—Ä–æ–º
[–í–æ—Ä–∫–µ—Ä 3] üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞: —É—Å–ø–µ—Ö –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –¥—Ä—É–≥–∏–º –≤–æ—Ä–∫–µ—Ä–æ–º

‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ! IP 95.163.248.10 –ø—Ä–∏–≤—è–∑–∞–Ω –≤–æ—Ä–∫–µ—Ä–æ–º 1
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `VKCLOUD_USERNAME` –∏ `VKCLOUD_PASSWORD`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `VKCLOUD_PROJECT_ID` —É–∫–∞–∑–∞–Ω –≤–µ—Ä–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `VKCLOUD_USER_DOMAIN_NAME` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `users`

### –í–ú –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `VKCLOUD_SERVER_ID_OR_NAME` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π –í–ú

### –í–Ω–µ—à–Ω—è—è —Å–µ—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

- –£–∫–∞–∂–∏—Ç–µ `VKCLOUD_EXT_NET_NAME` —è–≤–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –≤–Ω–µ—à–Ω—è—è —Å–µ—Ç—å

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `apprise`: `pip install apprise`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∞ URL –≤ `VKCLOUD_APPRISE_URL`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!**
- –î–æ–±–∞–≤—å—Ç–µ `.env` –≤ `.gitignore`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
- –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –≤–º–µ—Å—Ç–æ —Ñ–∞–π–ª–∞ `.env`

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è "–∫–∞–∫ –µ—Å—Ç—å" –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –≥–∞—Ä–∞–Ω—Ç–∏–π.

